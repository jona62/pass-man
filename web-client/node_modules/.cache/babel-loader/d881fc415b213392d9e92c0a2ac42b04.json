{"ast":null,"code":"var _jsxFileName = \"/Users/jonathanjames/Projects/pass-man/web-client/src/pages/signUpPage.js\";\n\n/* eslint-disable react-hooks/rules-of-hooks */\nimport React from \"react\";\nimport \"./loginPage.css\";\nimport TextInput from \"../common/textInput\";\nimport validate from \"../common/validate\";\nimport auth from \"../services/auth\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nclass SignUpPage extends React.Component {\n  constructor() {\n    super();\n\n    this.changeHandler = event => {\n      const name = event.target.name;\n      const value = event.target.value;\n      const updatedControls = { ...this.state.formControls\n      };\n      const updatedFormElement = { ...updatedControls[name]\n      };\n      updatedFormElement.value = value;\n      updatedFormElement.touched = true;\n      updatedFormElement.valid = validate(value, updatedFormElement.validationRules);\n      updatedControls[name] = updatedFormElement;\n      let formIsValid = true;\n\n      for (let inputIdentifier in updatedControls) {\n        formIsValid = updatedControls[inputIdentifier].valid && formIsValid;\n      }\n\n      this.setState({\n        formControls: updatedControls,\n        formIsValid: formIsValid\n      });\n    };\n\n    this.formSubmitHandler = e => {\n      e.preventDefault();\n      const formData = {};\n\n      for (let formElementId in this.state.formControls) {\n        formData[formElementId] = this.state.formControls[formElementId].value;\n      }\n\n      auth.signup(formData).then(user => {\n        this.setState({\n          userId: user.id\n        });\n      });\n    };\n\n    this.state = {\n      userId: null,\n      formIsValid: false,\n      //we will use this to track the overall form validity\n      formControls: {\n        first_name: {\n          value: \"\",\n          placeholder: \"First Name\",\n          valid: false,\n          touched: false,\n          validationRules: {\n            minLength: 3,\n            isRequired: true\n          }\n        },\n        last_name: {\n          value: \"\",\n          placeholder: \"Last Name\",\n          valid: false,\n          touched: false,\n          validationRules: {\n            minLength: 3,\n            isRequired: true\n          }\n        },\n        email: {\n          value: \"\",\n          placeholder: \"Email\",\n          valid: false,\n          touched: false,\n          validationRules: {\n            isEmail: true\n          }\n        },\n        password: {\n          value: \"\",\n          placeholder: \"Password\",\n          valid: false,\n          touched: false,\n          validationRules: {\n            isPassword: true\n          }\n        }\n      }\n    };\n  }\n\n  render() {\n    if (auth.isAuthenticated) {\n      return /*#__PURE__*/React.createElement(Redirect, {\n        to: {\n          pathname: \"/home\",\n          id: this.state.userId\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 9\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Container\",\n      style: {\n        width: \"120vw\",\n        height: \"120vh\",\n        position: \"fixed\",\n        top: \"-10vh\",\n        left: \"-10vw\",\n        zIndex: -1\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"logcard signupl\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 11\n      }\n    }, \"Sign up\"), /*#__PURE__*/React.createElement(\"form\", {\n      onSubmit: this.formSubmitHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(TextInput, {\n      name: \"first_name\",\n      type: \"text\",\n      placeholder: this.state.formControls.first_name.placeholder,\n      value: this.state.formControls.first_name.value,\n      onChange: this.changeHandler,\n      touched: this.state.formControls.first_name.touched,\n      valid: this.state.formControls.first_name.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextInput, {\n      name: \"last_name\",\n      type: \"text\",\n      placeholder: this.state.formControls.last_name.placeholder,\n      value: this.state.formControls.last_name.value,\n      onChange: this.changeHandler,\n      touched: this.state.formControls.last_name.touched,\n      valid: this.state.formControls.last_name.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextInput, {\n      name: \"email\",\n      type: \"email\",\n      placeholder: this.state.formControls.email.placeholder,\n      value: this.state.formControls.email.value,\n      onChange: this.changeHandler,\n      touched: this.state.formControls.email.touched,\n      valid: this.state.formControls.email.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(TextInput, {\n      name: \"password\",\n      type: \"password\",\n      placeholder: this.state.formControls.password.placeholder,\n      value: this.state.formControls.password.value,\n      onChange: this.changeHandler,\n      touched: this.state.formControls.password.touched,\n      valid: this.state.formControls.password.value,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      name: \"login\",\n      disabled: !this.state.formIsValid,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 13\n      }\n    }, \"Already a member?\", /*#__PURE__*/React.createElement(Link, {\n      className: \"nav-link\",\n      exact: true,\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 15\n      }\n    }, \"login\")))));\n  }\n\n}\n\nexport default SignUpPage;","map":{"version":3,"sources":["/Users/jonathanjames/Projects/pass-man/web-client/src/pages/signUpPage.js"],"names":["React","TextInput","validate","auth","Link","Redirect","SignUpPage","Component","constructor","changeHandler","event","name","target","value","updatedControls","state","formControls","updatedFormElement","touched","valid","validationRules","formIsValid","inputIdentifier","setState","formSubmitHandler","e","preventDefault","formData","formElementId","signup","then","user","userId","id","first_name","placeholder","minLength","isRequired","last_name","email","isEmail","password","isPassword","render","isAuthenticated","pathname","width","height","position","top","left","zIndex"],"mappings":"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","sourcesContent":["/* eslint-disable react-hooks/rules-of-hooks */\nimport React from \"react\";\nimport \"./loginPage.css\";\nimport TextInput from \"../common/textInput\";\nimport validate from \"../common/validate\";\nimport auth from \"../services/auth\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nclass SignUpPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      userId: null,\n      formIsValid: false, //we will use this to track the overall form validity\n\n      formControls: {\n        first_name: {\n          value: \"\",\n          placeholder: \"First Name\",\n          valid: false,\n          touched: false,\n          validationRules: {\n            minLength: 3,\n            isRequired: true,\n          },\n        },\n        last_name: {\n          value: \"\",\n          placeholder: \"Last Name\",\n          valid: false,\n          touched: false,\n          validationRules: {\n            minLength: 3,\n            isRequired: true,\n          },\n        },\n        email: {\n          value: \"\",\n          placeholder: \"Email\",\n          valid: false,\n          touched: false,\n          validationRules: {\n            isEmail: true,\n          },\n        },\n        password: {\n          value: \"\",\n          placeholder: \"Password\",\n          valid: false,\n          touched: false,\n          validationRules: {\n            isPassword: true,\n          },\n        },\n      },\n    };\n  }\n\n  changeHandler = (event) => {\n    const name = event.target.name;\n    const value = event.target.value;\n\n    const updatedControls = {\n      ...this.state.formControls,\n    };\n    const updatedFormElement = {\n      ...updatedControls[name],\n    };\n    updatedFormElement.value = value;\n    updatedFormElement.touched = true;\n    updatedFormElement.valid = validate(\n      value,\n      updatedFormElement.validationRules\n    );\n\n    updatedControls[name] = updatedFormElement;\n\n    let formIsValid = true;\n    for (let inputIdentifier in updatedControls) {\n      formIsValid = updatedControls[inputIdentifier].valid && formIsValid;\n    }\n\n    this.setState({\n      formControls: updatedControls,\n      formIsValid: formIsValid,\n    });\n  };\n\n  formSubmitHandler = (e) => {\n    e.preventDefault();\n    const formData = {};\n    for (let formElementId in this.state.formControls) {\n      formData[formElementId] = this.state.formControls[formElementId].value;\n    }\n    auth.signup(formData).then((user) => {\n      this.setState({ userId: user.id });\n    });\n  };\n\n  render() {\n    if (auth.isAuthenticated) {\n      return (\n        <Redirect\n          to={{\n            pathname: \"/home\",\n            id: this.state.userId,\n          }}\n        />\n      );\n    }\n    return (\n      <div\n        className=\"Container\"\n        style={{\n          width: \"120vw\",\n          height: \"120vh\",\n          position: \"fixed\",\n          top: \"-10vh\",\n          left: \"-10vw\",\n          zIndex: -1,\n        }}\n      >\n        <div className=\"logcard signupl\">\n          <h1>Sign up</h1>\n          <form onSubmit={this.formSubmitHandler}>\n            <TextInput\n              name=\"first_name\"\n              type={\"text\"}\n              placeholder={this.state.formControls.first_name.placeholder}\n              value={this.state.formControls.first_name.value}\n              onChange={this.changeHandler}\n              touched={this.state.formControls.first_name.touched}\n              valid={this.state.formControls.first_name.value}\n            />\n            <TextInput\n              name=\"last_name\"\n              type={\"text\"}\n              placeholder={this.state.formControls.last_name.placeholder}\n              value={this.state.formControls.last_name.value}\n              onChange={this.changeHandler}\n              touched={this.state.formControls.last_name.touched}\n              valid={this.state.formControls.last_name.value}\n            />\n            <TextInput\n              name=\"email\"\n              type={\"email\"}\n              placeholder={this.state.formControls.email.placeholder}\n              value={this.state.formControls.email.value}\n              onChange={this.changeHandler}\n              touched={this.state.formControls.email.touched}\n              valid={this.state.formControls.email.value}\n            />\n            <TextInput\n              name=\"password\"\n              type={\"password\"}\n              placeholder={this.state.formControls.password.placeholder}\n              value={this.state.formControls.password.value}\n              onChange={this.changeHandler}\n              touched={this.state.formControls.password.touched}\n              valid={this.state.formControls.password.value}\n            />\n\n            <input\n              type=\"submit\"\n              name=\"login\"\n              disabled={!this.state.formIsValid}\n            />\n          </form>\n\n          <div>\n            <p>\n              Already a member?\n              <Link className=\"nav-link\" exact to=\"/login\">\n                login\n              </Link>\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SignUpPage;\n"]},"metadata":{},"sourceType":"module"}